@model PM.Web.Administration.Task.EditTaskViewModel

@{
    ViewBag.Title = "Task";
    Layout = "~/Areas/Administration/Views/Shared/_Layout.cshtml";
}

<!-- LEFT MENU -->
@Html.Partial("_LeftMenuBar", Model.ProjectId)

<!-- PAGE -->
<div class="page">

    <div class="page-content-header">
        <span class="breadcrumbs">
            @Html.ActionLink("Home", "Index", "Dashboard", null, null) /
            @Html.ActionLink((string)ViewBag.ProjectName, "Overview", "Project", new { pId = PM.Common.ShortGuid.Encode(Model.PriorityId) }, null) /
            @Html.ActionLink("Tasks", "List", "Task", new { pId = PM.Common.ShortGuid.Encode(Model.ProjectId) }, null) /
            <span>Edit</span>
        </span>
    </div>

    <div class="page-content">
        
        <div id="edit-task">
            @Html.Partial("_EditTask", Model)
        </div>

        <div class="col-lg-12">
            <h4>Comments</h4>

            <ul class="task-comments">

                <li>
                    <div class="widget">
                        <div class="task-comment">
                            <p><small class="text-muted"><i class="glyphicon glyphicon-time"></i> 11 hours ago by ksterle</small></p>
                            <div class="timeline-body">
                                <p>Task comments are not implemented yet, it will be implemented in the next version.</p>
                            </div>
                        </div>
                    </div>
                </li>

                <li>
                    <div class="widget">
                        <div id="summernote"></div>
                    </div>
                    <button class="btn btn-md btn-success">Add Comment</button>
                </li>

            </ul>
        </div>
    </div>
</div>

@section Style
{
    @Styles.Render("~/Content/task-edit/css")
}

@section Scripts
{
    @Scripts.Render("~/bundles/task-edit/js")

    <script>

        $(document).ready(function () {

            $('#summernote').summernote({
                height: 100,                 
            });

            $('#DueDate').datepicker({

                autoHide: true,
                clearBtn: 'true',
                todayBtn: true,
                todayHighlight: true,
                format: "dd/MM/yyyy",
                startDate: new Date()
            });

            $("#btn-submit").click(function (event) {
                $('#edit-form').submit();
            });
        });
        
    </script>
}
